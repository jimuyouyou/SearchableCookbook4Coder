<!DOCTYPE html>

<html>

<head>
	<title>AWS SDK for JavaScript - Sample Application</title>
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1.26.min.js"></script>
</head>

<body>
	<input type="file" id="file-chooser" /> 
	<button id="upload-button">Upload to S3</button>
	<div id="results"></div>

	<script type="text/javascript">
	AWS.config.update({accessKeyId: '', secretAccessKey: ''});
	AWS.config.region = '';

	var bucket = new AWS.S3({params: {Bucket: ''}});

	var fileChooser = document.getElementById('file-chooser');
	var button = document.getElementById('upload-button');
	var results = document.getElementById('results');
	button.addEventListener('click', function() {
		var file = fileChooser.files[0];
		if (file) {
			results.innerHTML = '';

			var params = {Key: getFormattedFileName(file.name), ContentType: file.type, Body: file};
			bucket.upload(params, function (err, data) {
				results.innerHTML = err ? 'ERROR!' : 'UPLOADED.';
			});
		} else {
			results.innerHTML = 'Nothing to upload.';
		}
	}, false);

	Date.prototype.format =function(format)	{
		var o = {
			"M+" : this.getMonth()+1, //month
			"d+" : this.getDate(), //day
			"h+" : this.getHours(), //hour
			"m+" : this.getMinutes(), //minute
			"s+" : this.getSeconds(), //second
			"q+" : Math.floor((this.getMonth()+3)/3), //quarter
			"S" : this.getMilliseconds() //millisecond
		};

		if(/(y+)/.test(format)) 
			format=format.replace(RegExp.$1, (this.getFullYear()+"").substr(4- RegExp.$1.length));

		for(var k in o)if(new RegExp("("+ k +")").test(format))
			format = format.replace(RegExp.$1, RegExp.$1.length==1? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));

		return format;
	}

	function getFormattedFileName(str) {
		var date = new Date();
		var fileName = new Date().format('yyyy-MM-dd-hh-mm-ss');
		fileName += str;
		return fileName;
	}

</script>

url: http://docs.aws.amazon.com/AWSJavaScriptSDK/guide/browser-examples.html<p>
Policy:
<pre>
	{
	"Version": "2012-10-17",
	"Id": "Policy1430098744716",
	"Statement": [
	{
	"Sid": "Stmt1430098734212",
	"Effect": "Allow",
	"Principal": "*",
	"Action": "s3:*",
	"Resource": "arn:aws:s3:::ontimestorage/mkey"
}
]
}
</pre>

CORS:
<xmp>
	<?xml version="1.0" encoding="UTF-8"?>
	<CORSConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/">
		<CORSRule>
			<AllowedOrigin>*</AllowedOrigin>
			<AllowedMethod>GET</AllowedMethod>
			<AllowedMethod>PUT</AllowedMethod>
			<AllowedMethod>POST</AllowedMethod>
			<AllowedMethod>DELETE</AllowedMethod>
			<AllowedHeader>*</AllowedHeader>
		</CORSRule>
	</CORSConfiguration>
</xmp>
</body>
</html>